
{% extends "layout.html" %}
{% block title %}To-Do App{% endblock %}

{% block content %}
  <div class="jumbotron">
    <h1 class="display-4">To-Do App</h1>
    <p class="lead">Just another to-do app.</p>
  </div>
 </div>
	
   
	<table>
  <tr>
  <div class="row">
    <div class="col-md-12">
     
	  
	   </tr>
      <ul class="list-group mb-4">
        <!-- List the todo items here -->
		
		<table>
		<h3><b>To do</h3></b>    
		                                                                                                   
		{%for item in view_model.todolist : %}
		<div>
				<br>
				
				<tr>{{item.name}}<tr>
		
		<p><b>Move from doing to done<p></b>
				<form action="/update" method="post">
					<input type="hidden" name="id" value="{{item.id}}">
					<input type="submit" value="Update to done">
				</form>
			</div>
		{% endfor %}
		<br>
		<p>Add To do Task<p>
    <form action="/create" method="POST">
        <input type="text" name="title" id="title" value="title" required>
        <input type="submit" value="Create">
    </form>
			</table>
			<table>
		<br><h3><b> Doing </h3></b>  
{%for doing in view_model.doinglist: %}
		<div>
				<br>
				
				<tr>{{doing.name}}<tr>	
{% endfor %}<br>
			</table>
			<table id ="done-table"> 

			<br><h3><b>Done<br></h3>

		   {% if view_model.show_all_done_items():   %}
		  		{ {
				 {% for done in view_model.donelist: %}   
					 <tr>{{done.name}}</tr> <div></div>

				 	 <form action="/update_back" method="post">
          		 	 <input type="hidden" name="n" value="{{done["id"]}}">
           		     <input type="submit" value="Return to To do">
           			 </form>
				 {% endfor %}
				 
					}}
		    	 {% else  %}
		   		 <details>

			   		{{view_model.older_done_items()}}
					  <!-- {% for done in view_model.older_done_items(): %}   
					 	 	 <tr>{{done.name}}</tr> <br> 

				 	 	 	 <form action="/update_back" method="post">
          		 	 	 	 <input type="hidden" name="n" value="{{done["id"]}}">
           		     	 	 <input type="submit" value="Return to To do">
           			 	 	 </form>
						 {% endfor %}}   Currently printing out as <todo_app.data.ToDo.ToDo object at 0x0000023EB52B61F0>,<todo_app.data.ToDo.ToDo object at 0x0000023EB52B6DF0>... if this is commented
							 if uncomented the details button is not working --> 
				 <summary>
					{{view_model.recent_done_items()}}
					 <!--{% for done in view_model.recent_done_items(): %}   
					 	 <tr>{{done.name}}</tr> <br> 

				 	 	 <form action="/update_back" method="post">
          		 	 	 <input type="hidden" name="n" value="{{done["id"]}}">
           		     	 <input type="submit" value="Return to To do">
           			 	 </form>
					 {% endfor %} -->
				</summary>
				
		   		</details>
				  
		   {% endif %}
		   </div>
			
		
   </table>
	
	
	
  </div>
{% endblock %}

