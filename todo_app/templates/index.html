{% extends "layout.html" %}
{% block title %}To-Do App{% endblock %}

{% block content %}
<div class="jumbotron">
	<h1 class="display-4">To-Do App</h1>
	<p class="lead">Just another to-do app.</p>
</div>
</div>


<table>
	<tr>
		<div class="row">
			<div class="col-md-12">


	</tr>
	<ul class="list-group mb-4">
		<!-- List the todo items here -->

		<table>
			<h3><b>To do</b></h3>

			{%for item in view_model.todolist : %}
			<div>
				<br>

				<tr>{{item.name}}</tr>
				<tr>

					<p><b>Move from doing to done</b></p>
					<form action="/update" method="post">
						<input type="hidden" name="id" value="{{item.id}}">
						<input type="submit" value="Update to done">
					</form>
			</div>
		</tr>
			{% endfor %}
			<br>
			<p>Add To do Task
			</p>
			<form action="/create" method="POST">
				<input type="text" name="title" id="title" value="title" required>
				<input type="submit" id="create" value="Create">
			</form>
		</table>

		<br>
		<h3><b> Doing </b></h3>
		<table>
			{%for doing in view_model.doinglist: %}
			<tr>


			<tr>{{doing.name}}</tr><br>
			</tr>
			{% endfor %}
		</tr>
		</table>
		<br>
		<h3><b>Done</b><br></h3>

		{% if view_model.show_all_done_items(): %}
		{ {
		{% for done in view_model.donelist: %}
		<div>

			{{done.name}}


			<form action="/update_back" method="post">
				<input type="hidden" name="n" { background-color: blue;} value="{{done[" id"]}}">
				<input type="submit" value="Return to To do">
			</form>

		</div>
		{% endfor %}

		}}
		{% else %}
		<details>

			<!--{{view_model.older_done_items()}}
					   {% for done in view_model.older_done_items(): %}   
					 	 	 <tr>{{done.name}}</tr> <br> 

				 	 	 	 <form action="/update_back" method="post">
          		 	 	 	 <input type="hidden" name="n" value="{{done["id"]}}">
           		     	 	 <input type="submit" value="Return to To do">
           			 	 	 </form>
						 {% endfor %}}   Currently printing out as <todo_app.data.ToDo.ToDo object at 0x0000023EB52B61F0>,<todo_app.data.ToDo.ToDo object at 0x0000023EB52B6DF0>... if this is commented
							 if uncomented the details button is not working -->
			<summary>
				<!--{{view_model.recent_done_items()}}-->
				{% for done in view_model.recent_done_items(): %}
				{{done.name}}

				<form action="/update_back" method="post">
					<input type="hidden" name="n" value="{{done[" id"]}}">
					<input type="submit" value="Return to To do">
				</form>
				{% endfor %}
			</summary>
			{% for done in view_model.older_done_items(): %}
			{{done.name}}

			<form action="/update_back" method="post">
				<input type="hidden" name="n" value="{{done[" id"]}}">
				<input type="submit" value="Return to To do">
			</form>
			{% endfor %}
		</details>

		{% endif %}
		</div>


</table>



</div>
{% endblock %}